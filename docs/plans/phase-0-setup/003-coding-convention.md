# Task 003: 코딩 컨벤션 점검

> **목표**: 린터 설정 및 make lint로 코딩 컨벤션 준수 확인
> **예상 시간**: 0.5일
> **산출물**: `.clang-format`, lint 설정, `make lint` 타겟

---

## 목표

린터 설정을 추가하고 `make lint` 타겟으로 C/C++, Verilog, Shell, Makefile 컨벤션 준수를 확인한다. 컨벤션 참조: `.cursor/convention/` (c.md, cpp.md, verilog.md, make.md, bash.md). **원칙**: 새 코드는 반드시 준수, 기존 코드는 수정 시 함께 정리.

## 주요 작업

- .clang-format 설정 (C/C++ 포맷)
- Verilog 린트: verible 또는 verilator --lint-only 설정
- Shell 린트: shellcheck 설정
- make lint 타겟: C++, Verilog, Shell, Makefile 통합 검사
- 생성 코드(output/) 정책:
  - **Phase 1에서는 Policy B로 시작**: `output/**`를 `make lint`에서 제외. emitter 개발 생산성 우선.
  - **Phase 2 후반에서 Policy A로 전환**: `output/**`를 lint에 포함. 실패 시 생성기(hirct-gen) 쪽을 수정해서 통과시킨다.
  - 전환 후 반복적으로 생산성을 저해하면: `output/**`에 한해 완화 규칙 도입(허용 예외 목록 고정)
  - 모든 생성 파일 첫 줄에 `// AUTO-GENERATED by hirct-gen — DO NOT EDIT` 헤더 삽입

## .clang-format 설정 예시

LLVM/CIRCT 표준 스타일 기반:

```yaml
BasedOnStyle: LLVM
ColumnLimit: 80
IndentWidth: 2
UseTab: Never
BreakBeforeBraces: Attach
AllowShortFunctionsOnASingleLine: All
```

> 참고: CIRCT 프로젝트의 .clang-format을 기반으로 HIRCT 특화 설정 추가

## 게이트 (완료 기준)

- [ ] .clang-format 생성 (cpp.md 컨벤션 반영)
- [ ] verible/verilator Verilog 린트 설정
- [ ] shellcheck Shell 린트 설정
- [ ] `make lint` 타겟 동작 (exit 0 on pass)
- [ ] Phase 1: `output/**`를 lint에서 제외 (Policy B)
- [ ] Phase 2 후반: `output/**`를 lint에 포함하여 통과 확인 (Policy A 전환)
