---
description: HIRCT 프로젝트 핵심 컨텍스트 — 아키텍처, 정책, 컨벤션 라우팅. 모든 세션에 적용.
alwaysApply: true
---

# HIRCT Project Context

## 프로젝트 개요
HIRCT(HDL IR Compiler & Tools): SystemVerilog/Verilog RTL → CIRCT IR → 자동화 산출물(C++ model, SV wrapper, DPI-C, UVM RAL, docs 등) 생성 파이프라인.
- CLI: `hirct-gen`, `hirct-verify`
- 빌드: CMake + Ninja (바이너리), GNU Make (오케스트레이션)

## 핵심 정책
1. **Single Source of Truth**: RTL이 유일한 진실 공급원. 중복 문서 금지.
2. **bash 스크립트 파일(.sh) 금지**: 오케스트레이션은 Makefile + lit. 단, 환경 부트스트랩용 `utils/setup-env.sh` 1개만 예외 허용(멱등성 필수). Makefile recipe 내 inline shell은 허용.
3. **테스트 아키텍처**: lit 기반. `make test-all` → lit(`test/`, `integration_test/smoke/`) + per-module Makefile(`make test`). 리포트 변환만 `utils/generate-report.py`.
4. **생성 코드 헤더**: 모든 생성 파일 첫 줄에 `// AUTO-GENERATED by hirct-gen — DO NOT EDIT`.
5. **XFAIL 관리**: CI는 항상 Green. 실패 모듈은 XFAIL 리스트(`known-limitations.md`, 파일 경로 키)로 명시 관리. XPASS = WARN.

## SSOT 계층 (변경 시 상위→하위 순서 준수)
- **L0**: `.cursor/rules/*.mdc` (Agent 행동 강제)
- **L1**: `reference-commands-and-structure.md`, `summary.md`, `open-decisions.md`, `hirct-convention.md`
- **L2**: Phase별 README + 태스크 문서 (001~303)
- **L3**: `proposal/001-*.md`

## CIRCT 스타일 디렉토리 (v2)
- 소스: `include/hirct/{Analysis,Target}/` (헤더), `lib/{Analysis,Target}/` (구현)
- 도구: `tools/{hirct-gen,hirct-verify}/` (thin CLI main.cpp만)
- 테스트: `test/` (lit/FileCheck), `unittests/` (gtest), `integration_test/` (E2E lit)
- 유틸: `utils/` (setup-env.sh, generate-report.py)

## 컨벤션 참조 (파일 타입별)
- C/C++: `.cursor/convention/cpp.md`, `.cursor/convention/c.md`
- Makefile: `.cursor/convention/make.md`
- Verilog/SV: `.cursor/convention/verilog.md`
- Python: `.cursor/convention/python.md`
- Bash(inline): `.cursor/convention/bash.md`
- YAML/CI: `.cursor/convention/yaml.md`

## 계획 문서 구조
- 제안서: `docs/proposal/001-hirct-automation-framework.md`
- 총괄: `docs/plans/summary.md`
- 규약: `docs/plans/hirct-convention.md` (canonical)
- 결정: `docs/plans/open-decisions.md` (RESOLVED = 증거 기반)
- Phase별: `docs/plans/phase-{0..3}-*/`

## Phase 로드맵
- Phase 0: 환경 구성 (setup-env, lint, convention)
- Phase 1: 파이프라인 기능 (8종 emitter + hirct-verify + CLI)
- Phase 2: 전체 순회 테스트 (~1,600 .v 파일, report.json, verify-report.json)
- Phase 3: VCS co-sim, mkdocs, 패키징
